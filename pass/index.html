<!DOCTYPE html>
<html lang="en">
  <head>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta name="theme-color" content="#2F3136">
    <meta content="ðŸ“– My Notebook" property="og:site_name" />
    <meta
        content="Welcome to my digital notebook!"
        property="og:description">
      <meta content="https://publish.runarsf.dev/about/" property="article:author">
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,400;0,600;1,400;1,600&display=swap"
        rel="stylesheet"><meta content="Password Generator" property="og:title">
      <meta content="article" property="og:type">
      <meta content="https://publish.runarsf.dev/pass/" property="og:url"><title>ðŸ“– My Notebook</title>
      <link rel="canonical" href="https://publish.runarsf.dev/pass/" />
      <link rel="apple-touch-icon" href="/assets/img/profile.png">
      <link rel="icon" href="/assets/img/favicon.png" type="image/png" sizes="16x16" />
      <link href="/assets/css/style.css" rel="stylesheet" media="all" class="default" />
      <link href="/assets/css/main.css" rel="stylesheet" media="all" class="default" />
      <link href="/assets/css/Util.css" rel="stylesheet" media="all" class="default" />
      <link href="/assets/css/vendor/Katex.css" rel="stylesheet" media="all" class="default" />
      <!--[if IE]>
        <link href="/assets/css/ie-target.css" rel="stylesheet" type="text/css"/>
      <![endif]-->
      <!--<link href="/assets/css/prism.css" rel="stylesheet" />-->
      <link rel="alternate" type="application/rss+xml" href="https://publish.runarsf.dev/feed.xml">
    </head>
    <body><!-- TODO Padding on right is slightly bigger than padding on left -->
      <nav class="navbar is-transparent" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
          <a class="navbar-item" href="../index.html">
            <!-- <svg width="32" height="32" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M36.9477 13.7742C38.3043 11.4086 41.6957 11.4086 43.0523 13.7742L70.5226 61.6774C71.8791 64.043 70.1834 67 67.4703 67H12.5297C9.81658 67 8.12089 64.043 9.47744 61.6774L36.9477 13.7742ZM40 16.9677L13.7506 62.7419H66.2494L40 16.9677Z" fill="var(--text-main)"/>
        </svg> -->
            <!-- TODO Underline active page -->
            <h4>ðŸ“– My Notebook</h4>
          </a>
          <div class="navbar-item navbar-dark-mode__mobile is-hidden-tablet" onclick="modeSwitcher()">
            <div class="buttons">
              <a class="button is-text">
                <span class="icon is-small">
                  <img src="../assets/img/sun.svg" id="theme-toggle-img--mobile">
                </span>
              </a>
            </div>
          </div>
          <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
          </a>
        </div>
        <div id="navbarBasicExample" class="navbar-menu">
          <div class="navbar-start">
            <a href="/about" title="" class="navbar-item">
              About
            </a>
            <a href="/notes" title="My notes" class="navbar-item">
              Notes
            </a>
            <a href="/tags" title="" class="navbar-item">
              Tags
            </a>
            <!-- <a href="/about" class="navbar-item">
          About
        </a>
        <a href="/notes" class="navbar-item">
          Notes
        </a>
        <a href="/tags" class="navbar-item">
          Tags
        </a>
        <a href="/feed.xml" class="navbar-item">
          RSS
        </a> -->
          </div>
          <div class="navbar-end is-hidden-mobile" onclick="modeSwitcher()" >
            <div class="navbar-item">
              <div class="buttons">
                <a class="button is-text">
                  <span class="icon is-small">
                    <img src="../assets/img/sun.svg" id="theme-toggle-img">
                  </span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <script src="/assets/js/Hamburger.js"></script>
      <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
           tex2jax: {
               inlineMath: [ ['$','$'], ['\\(', '\\)'] ],
               displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
               processEscapes: true
                   }
               });
      </script>
      <!-- ??? Should this be used with katex -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
      <section class="section">
        <div class="columns is-centered">
          <!--- CASE 1 : Homepage--><!---CASE 2 : Notes & Blog Page-->
          <!-- TODO Fix horizontal overflow on mobile with long lines (e.g. note: Intro til matermatikk) --><!--- CASE 3 : Static Page -->
          <div class="column is-half">
            <main>
              <h1>Password Generator</h1>
              <!-- Parse internal links, external links, transclusions etc and manipuate the content to reflect it accordingly -->
              <div class="content"><!-- TODO Passphrase -->
                <main>
                  <!-- TODO Cookies -->
                  <!-- TODO Correctly update slider value -->
                  <label for="pwd-length">Length</label>
                  <input type="range" id="pwd-length" min="6" max="35" value="8" oninput="this.nextElementSibling.value = this.value">
                  <output>8</output>
                  <br/>
                  <input type="checkbox" id="pwd-numbers" name="pwd-options" value="pwd-numbers" checked>
                  <label for="pwd-numbers">Numbers</label>
                  <span class="noselect">&mdash;</span>
                  <label for="pwd-numbers-pos">Position:</label>
                  <select name="pwd-numbers-pos" id="pwd-numbers-pos">
                    <option value="end">End</option>
                    <option value="random">Random</option>
                  </select>
                  <!-- TODO Multiple numbers randomly placed -->
                  <br/>
                  <input type="checkbox" id="pwd-uppercase" name="pwd-options" value="pwd-uppercase" checked>
                  <label for="pwd-uppercase">Uppercase</label>
                  <span class="noselect">&mdash;</span>
                  <label for="pwd-uppercase-pos">Position:</label>
                  <select name="pwd-uppercase-pos" id="pwd-uppercase-pos">
                    <option value="beginning">Beginning</option>
                    <option value="random">Random</option>
                  </select>
                  <!-- TODO Amount -->
                  <br/>
                  <input type="checkbox" id="pwd-special" name="pwd-options" value="pwd-special">
                  <label for="pwd-special">Special characters</label>
                  <span class="noselect">&mdash;</span>
                  <label for="pwd-special-pos">Position:</label>
                  <select name="pwd-special-pos" id="pwd-special-pos">
                    <option value="end-pre">End, before numbers</option>
                    <option value="end-post">End, after numbers</option>
                    <option value="random">Random</option>
                  </select>
                  <!-- TODO Amount -->
                  <br/>
                  <input type="checkbox" id="pwd-readable" name="pwd-options" value="pwd-readable" checked>
                  <label for="pwd-readable">Human readable</label>
                  <br/>
                  <button onclick="generatePassword()">Generate</button>
                  <button onclick="clearPasswords()">Clear</button>
                  <br/>
                  <br/>
                  <!--<hr style="background-color:var(--border);"><br/>-->
                  <u style="color:var(--border);">
                    <h3 style="color:var(--text-main);">Passwords</h3>
                  </u>
                  <ul id="passwords"></ul>
                  <!-- TODO Wrap -->
                </main>
                <script>
                  function clearPasswords() {
                    const passwordUl = document.getElementById("passwords");
                    passwordUl.innerHTML = "";
                  }
                  
                  const randint = (_min=undefined, _max=undefined) => {
                    const min =  Math.ceil((!_min && !_max) ? 10 : !_max ? 0    : _min);
                    const max = Math.floor((!_min && !_max) ? 99 : !_max ? _min : _max);
                  
                    return Math.floor(Math.random() * (max - min + 1)) + min;
                  }
                  
                  // const replaceAt = function(_string, index, replacement) {
                  //   return _string.substr(0, index) + replacement + _string.substr(index + replacement.length);
                  // }
                  String.prototype.replaceAt = function(index, replacement) {
                      return this.substr(0, index) + replacement + this.substr(index + replacement.length);
                  }
                  
                  function generatePassword(
                      _len          = null,
                      _numbers      = null,
                      _numbersPos   = null,
                      _uppercase    = null,
                      _uppercasePos = null,
                      _special      = null,
                      _specialPos   = null,
                      _readable     = null,
                    ) {
                    const options = {
                      length       : _len          ?? document.getElementById("pwd-length").value,
                      numbers      : _numbers      ?? document.getElementById("pwd-numbers").checked,
                      numbersPos   : _numbersPos   ?? document.getElementById("pwd-numbers-pos").value,
                      uppercase    : _uppercase    ?? document.getElementById("pwd-uppercase").checked,
                      uppercasePos : _uppercasePos ?? document.getElementById("pwd-uppercase-pos").value,
                      special      : _special      ?? document.getElementById("pwd-special").checked,
                      specialPos   : _specialPos   ?? document.getElementById("pwd-special-pos").value,
                      readable     : _readable     ?? document.getElementById("pwd-readable").checked,
                    }
                  
                    const consonants = ['b', 'c', 'd', 'f', 'g', 'h', 'j', 'k', 'l', 'm', 'n', 'p', 'r', 's', 't', 'v', 'w', 'x', 'z'];
                    const vowels     = ['a', 'e', 'i', 'o', 'u', 'y']; // y is subjectively objectively a vowel.
                    const specials   = ['!', '@', '#', '$', '%', '*', '&', '*', '-', '+', '?'];
                  
                    let password = "";
                  
                    if ( options.readable ) {
                      let passwordConsonants = "";
                      for ( let i = 1; i <= Math.ceil(options.length / 2); i++ ) {
                        passwordConsonants += consonants[randint(consonants.length - 1)];
                      }
                      let passwordVowels = "";
                      for ( let i = 1; i <= Math.floor(options.length / 2); i++ ) {
                        passwordVowels += vowels[randint(vowels.length - 1)];
                      }
                      // Merge every other consonant / vowel (this is a hacky way to do it lol)
                      const merge = (a, b) => a.length ? [a[0], ...merge(b, a.slice(1))] : b;
                      password += merge(passwordConsonants, passwordVowels).join('');
                    } else {
                      const letters = consonants.concat(vowels);
                      for ( let i = 1; i <= options.length; i++ ) {
                        password += letters[randint(letters.length - 1)];
                      }
                    }
                  
                    let append = "";
                    if ( options.numbers ) {
                      const _number = randint(0, 99).toString()
                      if ( options.numbersPos === "random" ) password = password.replaceAt(randint(password.length-1-append.length), _number)
                      else                                    append += _number;
                    }
                    if ( options.special ) {
                      const _special = specials[randint(specials.length - 1)].toString();
                      if      ( options.specialPos === "end-pre" ) append   = _special + append;
                      else if ( options.specialPos === "random"  ) password = password.replaceAt(randint(password.length-1-append.length), _special)
                      else                                         append  += _special;
                    }
                  
                    if ( options.uppercase ) {
                      const _upperize = randint(password.length-1-append.length)
                      if ( options.uppercasePos === "random" ) password = password.replaceAt(_upperize, password.charAt(_upperize).toUpperCase())
                      else                                     password = password.replaceAt(0, password.charAt(0).toUpperCase())
                    }
                  
                    if ( append ) password = password.slice(0, -append.toString().length) + append.toString();
                  
                    const passwordUl = document.getElementById("passwords");
                    if ( password ) passwordUl.innerHTML += "<li>" + password + "</li>";
                  }
                </script>
              </div>
              <div id="copyright">
                <!-- TODO Fix link styling like in nnl -->
                <!-- TODO Add license image -->
                <p>
                  <a href="https://github.com/runarsf"><b>Runar Fredagsvik</b></a>
                </p>
              </p>
              <p>Except where otherwise <a class='waves' href="https://creativecommons.org/policies#license">noted</a>, content on this site is licensed under a <a class='waves' href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
            </div>
            <script src="/assets/js/modeswitcher.js"></script></main>
        </div>
        <!--- CASE 4 : Blog Listing page --><!--- CASE 5 :  Notes Listing page --></div>
    </section>
  </body>
</html>